<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Yams</title>
	<!--styles -->
	<link href="/css/bootstrap.css" rel="stylesheet">
	<link href="/css/yams.css" rel="stylesheet">
	<!--scripts-->
	<script type='text/javascript' src='/js/lib/knockout-2.1.0beta.js'></script>
</head>
<body>
<div class="container-fluid">
	<div class="row-fluid">
		<div class="span7">
			<table class="table table-bordered">
				<thead>
					<tr>
						<th></th>
						<th width="16%">Free</th>
						<th width="16%">Falling</th>
						<th width="16%">Rising</th>
						<th width="16%">Announced</th>
						<th width="16%">Dry</th>
					</tr>
				</thead>

				<tbody>
					<!-- numbers -->
					<!-- ko foreach: allNumbers -->
					<tr>
						<td data-bind="text: name"></td>
						<td data-bind="text: free.result, click: $parent.freeCalc, style:{backgroundColor:free.isSet() === false ? '#CCFFCC' : 'white'}"></td>
						<td data-bind="text: falling.result, click: function() {$parent.fallingCalc($data,$index,'allNumbersResults')}, style:{backgroundColor:falling.allowed() ? '#CCFFCC' : 'white'}"></td>
						<td data-bind="text: rising.result, click: function(){$parent.risingCalc($data, $index,'allNumbersResults')}, style:{backgroundColor:rising.allowed() ? '#CCFFCC' : 'white'}"></td>
						<td data-bind="text: announced.result, click:$parent.announcedCalc, style:{backgroundColor:announced.isSet() === false ? '#CCFFCC' : 'white'}"></td>
						
				<!-- ko ifnot: dry.isSet   -->			
						<td data-bind="text: dry.result, click:$parent.dryCalc, style:{backgroundColor:$parent.rollcounter()>= 2 ? '#CCFFCC' : 'white'}"></td>
				<!-- /ko -->
				<!-- ko if: dry.isSet  -->	
						<td data-bind="text: dry.result, click:$parent.dryCalc, style:{backgroundColor:'white'}"></td>
				<!-- /ko -->
						</tr>
					<!-- /ko -->
					<tr style=font-weight:>
						<td>Sub-total (60)</td>
						<td data-bind="text: allNbRSubTotal[0]"></td>
						<td data-bind="text: allNbRSubTotal[1]"></td>
						<td data-bind="text: allNbRSubTotal[2]"></td>
						<td data-bind="text: allNbRSubTotal[3]"></td>
						<td data-bind="text: allNbRSubTotal[4]"></td>
					</tr>
					
					<tr style="font-weight:bold;">
						<td>Bonus (30)</td>
						<td data-bind = "text:Bonuses[0]"></td>
						<td data-bind = "text:Bonuses[1]"></td>
						<td data-bind = "text:Bonuses[2]"></td>
						<td data-bind = "text:Bonuses[3]"></td>
						<td data-bind = "text:Bonuses[4]"></td>
					</tr>
					

					<!-- combos -->
					<!-- ko foreach: allCombos -->
					<tr>
						<td data-bind="text: name"></td>
						<td data-bind="text: free.result, click: $parent.freeCalc, style:{backgroundColor:free.isSet() === false ? '#CCFFCC' : 'white'}"></td>
						<td data-bind="text: falling.result, click: function() {$parent.fallingCalc($data,$index,'allCombosResults')}, style:{backgroundColor:falling.allowed() ? '#CCFFCC' : 'white'}"></td>
						<td data-bind="text: rising.result, click: function() {$parent.risingCalc($data, $index,'allCombosResults')}, style:{backgroundColor:rising.allowed() ? '#CCFFCC' : 'white'}"></td>
						<td data-bind="text: announced.result, click:$parent.announcedCalc, style:{backgroundColor:announced.isSet() === false ? '#CCFFCC' : 'white'}"></td>

					<!-- ko ifnot: dry.isSet   -->			
						<td data-bind="text: dry.result, click:$parent.dryCalc, style:{backgroundColor:$parent.rollcounter()>= 2 ? '#CCFFCC' : 'white'}"></td>
					<!-- /ko -->
					<!-- ko if: dry.isSet  -->	
						<td data-bind="text: dry.result, click:$parent.dryCalc, style:{backgroundColor:'white'}"></td>
					<!-- /ko -->

					</tr>
					<!-- /ko -->
					
					<tr style="font-weight:bold;">
						<td>Sub-total</td>
						<td data-bind="text: allCombosSubTotal[0]"></td>
						<td data-bind="text: allCombosSubTotal[1]"></td>
						<td data-bind="text: allCombosSubTotal[2]"></td>
						<td data-bind="text: allCombosSubTotal[3]">></td>
						<td data-bind="text: allCombosSubTotal[4]">></td>
					</tr>
				
					<!-- total score -->
					
					<tr style="font-weight:bold;">
						<td>Total</td>
						<td data-bind="text: allTotalsArray[0]"></td>
						<td data-bind="text: allTotalsArray[1]"></td>
						<td data-bind="text: allTotalsArray[2]"></td>
						<td data-bind="text: allTotalsArray[3]">></td>
						<td data-bind="text: allTotalsArray[4]">></td>
					</tr>
					<tr style="font-weight:bold;">
						<td>TOTAL</td>
						<td colspan="5" data-bind="text: combinedTotals"></td>
					</tr>
					
				</tbody>
			</table>

		</div> <!-- end column -->
	
		<div class="span5">
			<!-- table to display dice values-->
			<table class="table" >
				<thead>
					<tr>
						<th colspan="5">Dice</th>
					</tr>
				</thead>
				<tbody>
					<tr data-bind="foreach: fiveDice">

					<td><img height="70px" width="70px"  data-bind="attr: { src: '/img/'+face()+'.png' }, click:$parent.toggleReroll, style:{backgroundColor: reroll() === false ? '#FFFF99' : 'white'}"/></td>

 


						<!--<td><img height="70px" width="70px" data-bind="attr: { src: '/img/'+face()+'.png' }, click:$parent.toggleReroll"/></td> -->
					</tr>
				</tbody>
			</table>
			<button class="btn btn-primary btn-large" data-bind="click: rollFiveDice, text:rollbuttontext">Roll my dice</button>
		</div> <! -- end column -->


	</div> <!-- end row div -->
</div> <!-- end container div -->

<script type='text/javascript' src='/js/appviewmodel.js'></script>
</body>
</html>
