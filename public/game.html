<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Yams</title>
	<!--styles -->
	<link href="/css/bootstrap.css" rel="stylesheet">
	<link href="/css/yams.css" rel="stylesheet">
	<!--scripts-->
	<script type='text/javascript' src='/js/lib/knockout-2.1.0.js'></script>
</head>
<body>
<div class="container-fluid">
	<div class="row-fluid">
		<div class="span8">
			<table class="table table-bordered">
				<thead>
					<tr>
						<th></th>
						<th width="16%">Free</th>
						<th width="16%">Falling</th>
						<th width="16%">Rising</th>
						<th width="16%">Announced</th>
						<th width="16%">Dry</th>
					</tr>
				</thead>

				<tbody>
					<!-- numbers -->
					<!-- ko foreach: allNumbers -->
					<tr>
						<td data-bind="text: name"></td>
						<td data-bind="text: free.result, click: $parent.freeCalc, style: {background: free.colour}"></td>
						<td data-bind="text: falling.result, click: $parent.fallingCalc, style: {background: falling.colour}"></td>
						<td data-bind="text: rising.result, click: $parent.risingCalc, style: {background: rising.colour}"></td>
						<td data-bind="text: announced.result, click: $parent.announcedCalc, style: {background: announced.colour}"></td>
						<td data-bind="text: dry.result, click: $parent.dryCalc, style: {background: dry.colour}"></td>
					</tr>
					<!--  /ko -->

					<tr class="bold highlight">
						<td>Sub-total (60)</td>
						<!-- ko foreach: computeNumberScores -->
						<td data-bind="text: $data"></td>
						<!-- /ko -->
					</tr>

					<tr class="bold highlight">
						<td>Bonus (30)</td>
						<!-- ko foreach: computeNumberBonuses -->
						<td data-bind = "text: $data"></td>
						<!-- /ko -->
					</tr>

					<!-- ko foreach: allCombos -->
					<tr>
						<td data-bind="text: name"></td>
						<td data-bind="text: free.result, click: $parent.freeCalc, style: {background: free.colour}"></td>
						<td data-bind="text: falling.result, click: $parent.fallingCalc, style: {background: falling.colour}"></td>
						<td data-bind="text: rising.result, click: $parent.risingCalc, style: {background: rising.colour}"></td>
						<td data-bind="text: announced.result, click: $parent.announcedCalc, style: {background: announced.colour}"></td>
						<td data-bind="text: dry.result, click: $parent.dryCalc, style: {background: dry.colour}"></td>
					</tr>
					<!--  /ko -->

					<tr class="bold highlight">
						<td>Sub-total</td>
						<!-- ko foreach: computeComboScores -->
						<td data-bind="text: $data"></td>
						<!-- /ko -->
					</tr>
				
					<!-- total column score -->		
					<tr class="bold highlight">
						<td>Column Total</td>
						<!-- ko foreach: computeTotals -->
						<td data-bind="text: $data"></td>
						<!-- /ko -->
					</tr>

					<tr class="bold lasthighlight">
						<td>SCORE</td>
						<td colspan="5" data-bind="text: computeScore"></td>
					</tr>

				</tbody>
			</table>

		</div> <!-- end column -->
	
		<div class="span4">
			<!-- table to display dice values-->
			<table class="table" >
				<thead>
					<tr>
						<th colspan="5">Dice</th>
					</tr>
				</thead>
				<tbody>
					<tr data-bind="foreach: fiveDice">
						<td><img height="70px" width="70px"  data-bind="attr: { src: '/img/'+face()+'.png' }, click:$parent.toggleReroll, style:{background: reroll() === false ? '#FFFF99' : 'white'}"/></td>	
					</tr>
				</tbody>
			</table>
			<button class="btn btn-primary btn-large" data-bind="text:rollbuttontext, click: rollFiveDice, visible: canRoll"></button>
			<button class="btn btn-danger btn-large" data-bind="click: undo, visible: canUndo">Undo</button>
			<button class="btn btn-success btn-large pull-right" data-bind="click: endTurn, visible: canEndTurn">End Turn</button>
		</div> <! -- end column -->


	</div> <!-- end row div -->
</div> <!-- end container div -->

<script type='text/javascript' src='/js/gameappviewmodel.js'></script>
</body>
</html>
